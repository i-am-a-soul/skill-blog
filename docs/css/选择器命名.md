# 选择器命名

## `BEM`

`BEM`是`Block`、`Element`、`Modifier`的首字母简称，是当下使用比较多、被讨论次数也比较多的一种命名方式。它的核心原则就是通过`Block`、`Element`、`Modifier`三者的组合来减少选择器的嵌套使用。

![](/img/0033.png)

- `Block`。块是最大的独立“作用域”，它不依赖其他选择器产生作用，可以绑定在任何`DOM`元素上，同时只能是字母、数字、横线组成的类选择器，比如“`.block`”。
- `Element`。元素同样只能是类选择器，可以由字母、数字、横线、下划线组成，名称带有语义，并由模块名作前缀，通过双下划线连接，比如“`.block__elem`”。
- `Modifier`。修饰语用来表示元素或块的外部形式、行为、状态，可以由字母、数字、横线、下划线组成，修饰语前面必须带有模块名或元素名，通过双横线连接。同样只使用样式类，推荐配合元素或者块嵌套使用而不是单独使用，比如“`.block.block--mod`”。

## `AMCSS`

`BEM`中推崇所有样式选择器都以类的形式命名，这样带来的一个好处就是大家权值一样，方便样式覆盖，而`AMCSS`则另辟蹊径，提倡使用属性选择器以及对应的值来作为选择器。

如果你使用过`Bootstrap`的按钮样式，一定熟悉下面的代码：

```html
<a class="btn btn-primary btn-lg"> Large primary button </a>
```

这里使用了`3`个样式类，如果改成`AMCSS`方式应该是这样：

```html
<a am-Button="primary large"> Large primary button </a>
```

由于`HTML`标签属性不区分大小写，所以可以写成：

```html
<a am-button="primary large"> Large primary button </a>
```

如果只使用了`btn`一个样式类，那么可以写成无值的属性：

```html
<!-- Bootstrap -->
<a class="btn btn-default"> Default button </a>
<!-- AMCSS -->
<a am-Button> Default button </a>
```

当然定义样式的时候和类选择器也有些区别：

```css
[am-Button] {}
[am-Button~="primary"] {}
[am-Button~="large"] {}
```

其中“`~=`”符号表示属性包含某个值时匹配。

`am`开头表示该属性为样式选择器，以避免和其他属性混淆。这种写法带来的好处就是省略了很多重复的修饰名称，比如上面样式类中的“`btn-`”。

另外值得一提的是，属性选择器虽然因为权重较高且不易识别，所以在开发中使用频率不如类选择器，但是有时候使用起来也有奇效，比如`VueJS`中的组件实现样式的独立作用域，就是通过将随机属性作为父选择器来实现的。

## 面向属性命名

前面提到的两种命名方式其实都有一个共同点，那就是面向语义化的。简单地说，这些样式都是为了修改某个元素或块的，这么一来，如果我们想将这些样式复用到其他标签元素上，就变得相当困难。

面向属性命名方式则截然不同，它是无语义的。这种命名方式主张把样式都拆成最小粒度，即一个样式类中只包含一个属性，然后根据属性名和属性值进行命名，这样的命名不但去除了语义，而且可根据名称快速识别样式内容。而需要使用的时候就会像拼积木一样，把一个一个样式类组合在一起使用。比如一个宽为`60`像素，高为`20`像素，背景色为白色的`div`元素可能拥有下面的样式：

```html
<div class="w60 h20 bgwh"></div>
```

它对应的样式类为：

```css
.w60 {
    width: 60px;
}
.h20 {
    height: 20px;
}
.bgwh {
    background-color: #fff;
}
```

- 如果样式属性较多，那么岂不是要使用很多样式类？
- 像宽度和高度这种值需要针对每个像素都定义一个类吗？

这两个疑问正是这种命名方式的缺陷所在，所以为了处理这个问题，我们来思考一下解决方法。

- 样式类太多确实会导致可读性下降，所以应该考虑将一部分最常用的样式抽取出来，而另一部分作为标签元素的专有样式。
- 理论上来说，像高度、宽度、边距这类属性的值有无穷多个（或者非常多个），如果给每个值都定义一个样式则会使`CSS`变得非常臃肿。所以这类属性不适合使用面向属性命名，而适合被语义化。

基于以上两点，我们可以得出一个结论：那些常用的属性并且属性值为有限个（数量较少）的样式适合使用面向属性命名法则。同时还可以对这种命名方式进行小小的优化，比如把属性名和属性值用短横线隔开，就像下面的样子：

```css
.d-b {
    display: block;
}
.d-ib {
    display: inline-block;
}
.t-0 {
    top: 0;
}
```

"`.t-0`"样式算是一个例外，因为经常需要配合非静态定位使用，所以也可以单独使用面向属性命名。这样的好处是有时候我们编写页面或组件的时候可以直接复用已有的属性。

所以综合以上几种命名方式，比较推荐的做法是先按照优化后的面向属性原则来抽取公共样式，然后针对各个公用组件按照`BEM`或者`AMCSS`原则命名语义化样式。

