# 知识点

## 主流浏览器内核

![](/img/0028.png)

![](/img/0126.jpg)

## 渲染页面的大致流程

1. 解析`HTML`标签并生成`DOM`树
2. 解析`CSS`规则并生成`CSSOM`树
3. 将`DOM`树与`CSSOM`树合并成一个渲染树
4. 根据渲染树来进行**布局**
5. 对渲染树上的节点进行**绘制**

## `JS`引擎和渲染引擎

![](/img/0127.jpg)

## `defer`与`async`

`script`标签中的`defer`和`async`属性可以让浏览器的工作顺序发生一些变化。

- `defer`属性可以将执行`js`的操作延后，一直等到`HTML`解析完成再执行。
- `async`属性可以并发请求获取`js`，但是执行`js`的时候仍然会阻塞渲染引擎。

![](/img/0029.png)

## 浏览器架构对比

![](/img/0124.jpg)

## 多进程架构下的分工

![](/img/0125.jpg)

## 渲染进程

![](/img/0128.jpg)

## 其他

- `JavaScript`引擎和渲染引擎这两个线程都可以操作`DOM`，这样的话就很容易会出现一些问题，为了降低浏览器的复杂度，设计了一种机制——在某一时刻只有一个线程可以操作`DOM`，也就是说渲染引擎和`JavaScript`引擎会相互阻塞。
- 在`HTTP/1.1`协议中，为了避免浏览器过度消耗服务器端资源，所以限制了浏览器针对同一域名的并发请求数量，不同浏览器的限制数量在`4-8`不等，超过限制数量的请求将会被阻塞，延迟发送。

