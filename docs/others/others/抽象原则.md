# 抽象原则

## 第一原则：`DRY`

最著名的抽象原则应该是“`DRY`（`Don't Repeat Yourself`）”，这个原则主张项目中的每一段代码都必须是唯一的、明确的，不能含有任何重复代码，认为任何重复代码都应该被抽象出来进行复用。

遵循`DRY`原则不仅可以减少代码量，同时也会给代码维护带来很大的好处，可以避免多处修改。

但是这种一刀切的做法在某些情况下显得有些过于理想化，所以如果完全照搬这个原则有时会增加代码复杂度和开发工作量。这个时候我们需要别的原则来“修正”它。

## 第二原则：`YAGNI`

极限编程中提出了另一个原则`YAGNI`（`You aren't gonna need it`），翻译过来的意思就是直到你确实需要某个功能时才添加它。因为很多时候开发者自以为有用的功能，可能是用不到的。因此，这种只关注核心功能的方式，可以大大加快开发速度，同时代码越少一般`bug`也越少。`YAGNI`原则和`DRY`原则有时候是冲突的，前者追求“抽象化”，要求找到通用的解决方法；后者追求“快和省”，意味着不要把精力放在抽象化上面，因为很可能“你不会需要它”。所以比较推荐的方式是优先考虑`YAGNI`原则，然后结合`DRY`原则。 

## 第三原则：`The Rule of Three`

但是很快问题又来了，`YAGNI`原则该怎么实践？怎么判断编写的代码是必需的？

这时候我们引入第三个原则：`The Rule of Three`。

理解起来很简单，就是当一段代码逻辑出现第三次的时候再去抽象出它进行公用。

